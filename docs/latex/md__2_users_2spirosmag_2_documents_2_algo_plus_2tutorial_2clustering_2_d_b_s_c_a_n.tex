\chapter{Mini tutorial for DBSCAN class}
\hypertarget{md__2_users_2spirosmag_2_documents_2_algo_plus_2tutorial_2clustering_2_d_b_s_c_a_n}{}\label{md__2_users_2spirosmag_2_documents_2_algo_plus_2tutorial_2clustering_2_d_b_s_c_a_n}\index{Mini tutorial for DBSCAN class@{Mini tutorial for DBSCAN class}}
\label{md__2_users_2spirosmag_2_documents_2_algo_plus_2tutorial_2clustering_2_d_b_s_c_a_n_autotoc_md25}%
\Hypertarget{md__2_users_2spirosmag_2_documents_2_algo_plus_2tutorial_2clustering_2_d_b_s_c_a_n_autotoc_md25}%
\begin{DoxyVerb}DBSCAN -- creates a dbscan object
\end{DoxyVerb}
\hypertarget{md__2_users_2spirosmag_2_documents_2_algo_plus_2tutorial_2clustering_2_d_b_s_c_a_n_autotoc_md26}{}\doxysubsection{\texorpdfstring{{\bfseries{Create an instance of DBSCAN\+:}}\+:}{{\bfseries{Create an instance of DBSCAN\+:}}\+:}}\label{md__2_users_2spirosmag_2_documents_2_algo_plus_2tutorial_2clustering_2_d_b_s_c_a_n_autotoc_md26}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <machine\_learning/clustering/DBSCAN/dbscan.h>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ main()\{}
\DoxyCodeLine{\ \ \ \ std::vector<std::pair<double,\ double>\ >\ data;}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{double}\ Eps;}
\DoxyCodeLine{\ \ \ \ int64\_t\ MinPts;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_d_b_s_c_a_n}{DBSCAN}}\ d(data,\ Eps,\ MinPts);}
\DoxyCodeLine{\ \ \ \ ...}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md__2_users_2spirosmag_2_documents_2_algo_plus_2tutorial_2clustering_2_d_b_s_c_a_n_autotoc_md27}{}\doxysubsection{\texorpdfstring{{\bfseries{Get assignments with DBSCAN clustering\+:}}\+:}{{\bfseries{Get assignments with DBSCAN clustering\+:}}\+:}}\label{md__2_users_2spirosmag_2_documents_2_algo_plus_2tutorial_2clustering_2_d_b_s_c_a_n_autotoc_md27}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <machine\_learning/clustering/DBSCAN/dbscan.h>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ main()\{}
\DoxyCodeLine{\ \ \ \ ...}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ get\ assignments\ for\ each\ point\ with\ DBSCAN\ algorithm}}
\DoxyCodeLine{\ \ \ \ std::map<std::pair<double,\ double>,\ int64\_t>\ assignments\ =\ d.get\_clusters();}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md__2_users_2spirosmag_2_documents_2_algo_plus_2tutorial_2clustering_2_d_b_s_c_a_n_autotoc_md28}{}\doxysubsection{\texorpdfstring{{\bfseries{Get noise with DBSCAN clustering\+:}}\+:}{{\bfseries{Get noise with DBSCAN clustering\+:}}\+:}}\label{md__2_users_2spirosmag_2_documents_2_algo_plus_2tutorial_2clustering_2_d_b_s_c_a_n_autotoc_md28}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <machine\_learning/clustering/DBSCAN/dbscan.h>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ main()\{}
\DoxyCodeLine{\ \ \ \ ...}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ get\ noise\ with\ DBSCAN\ clustering}}
\DoxyCodeLine{\ \ \ \ std::vector<std::pair<double,\ double>\ >\ noise\ =\ d.get\_noise();}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md__2_users_2spirosmag_2_documents_2_algo_plus_2tutorial_2clustering_2_d_b_s_c_a_n_autotoc_md29}{}\doxysubsection{\texorpdfstring{{\bfseries{optionally for visualization purposes you can write to a json file and then use the python\textquotesingle{}s matplotlib function\+:}}\+:}{{\bfseries{optionally for visualization purposes you can write to a json file and then use the python\textquotesingle{}s matplotlib function\+:}}\+:}}\label{md__2_users_2spirosmag_2_documents_2_algo_plus_2tutorial_2clustering_2_d_b_s_c_a_n_autotoc_md29}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}../../../../src/machine\_learning/clustering/DBSCAN/dbscan.h"{}}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <fstream>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <random>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}../../../../third\_party/json.hpp"{}}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{using\ }nlohmann::json;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ main(\textcolor{keywordtype}{int}\ argc,\ \textcolor{keywordtype}{char}\ *\ argv[])\{}
\DoxyCodeLine{\ \ srand((\textcolor{keywordtype}{unsigned})time(NULL));}
\DoxyCodeLine{\ \ std::ifstream\ ifs(\textcolor{stringliteral}{"{}data.json"{}});}
\DoxyCodeLine{\ \ json\ jf\ =\ json::parse(ifs);}
\DoxyCodeLine{\ \ std::vector<std::pair<double,\ double>\ >\ data\ =\ jf[\textcolor{stringliteral}{"{}data"{}}];}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \mbox{\hyperlink{class_d_b_s_c_a_n}{DBSCAN}}\ a(data,\ 4,\ 3);}
\DoxyCodeLine{\ \ std::map<std::pair<double,\ double>,\ int64\_t>\ \ clusters\ =\ a.get\_clusters();\ }
\DoxyCodeLine{\ \ std::vector<std::pair<double,\ double>\ >\ noise\ =\ a.get\_noise();}
\DoxyCodeLine{\ \ json\ j;}
\DoxyCodeLine{\ \ j[\textcolor{stringliteral}{"{}noise"{}}]\ =\ noise;}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\ \&\ x\ :\ clusters)\{}
\DoxyCodeLine{\ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}["{}}\ <<\ x.first.first\ <<\ \textcolor{stringliteral}{"{}\ "{}}\ <<\ x.first.second\ <<\ \textcolor{stringliteral}{"{}]"{}}\ <<\ \textcolor{stringliteral}{"{}:\ "{}}\ <<\ x.second\ <<\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\ \ j[\textcolor{stringliteral}{"{}centroids"{}}]\ =\ clusters;}
\DoxyCodeLine{\ \ std::ofstream\ file(\textcolor{stringliteral}{"{}info.json"{}});}
\DoxyCodeLine{\ \ file\ <<\ j;}
\DoxyCodeLine{\}}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{import}\ json}
\DoxyCodeLine{\textcolor{keyword}{import}\ matplotlib.pyplot\ \textcolor{keyword}{as}\ plt}
\DoxyCodeLine{\textcolor{keyword}{import}\ os}
\DoxyCodeLine{\textcolor{keyword}{import}\ random}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{def\ }fill\_data():}
\DoxyCodeLine{\ \ \ \ data\ =\ []}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(100):}
\DoxyCodeLine{\ \ \ \ \ \ \ \ x\ =\ random.randint(0,\ 5)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ y\ =\ random.randint(0,\ 5)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ data.append([x,\ y])}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(100):}
\DoxyCodeLine{\ \ \ \ \ \ \ \ x\ =\ random.randint(90,\ 100)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ y\ =\ random.randint(90,\ 100)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ data.append([x,\ y])}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(100):}
\DoxyCodeLine{\ \ \ \ \ \ \ \ x\ =\ random.randint(-\/10,\ -\/5)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ y\ =\ random.randint(-\/10,\ -\/5)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ data.append([x,\ y])}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ data}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{\#\ This\ is\ just\ a\ template,\ if\ you\ want\ more\ clusters\ please\ fill\ more\ colors\ to\ the\ COLORS\ list}}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ \_\_name\_\_\ ==\ \textcolor{stringliteral}{"{}\_\_main\_\_"{}}:}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{\#\ here\ you\ should\ fill\ the\ data}}
\DoxyCodeLine{\ \ \ \ data\ =\ fill\_data()}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ data\_dict\ =\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}data"{}}:data}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ json\_object\ =\ json.dumps(data\_dict)}
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{with}\ open(\textcolor{stringliteral}{"{}data.json"{}},\ \textcolor{stringliteral}{"{}w"{}})\ \textcolor{keyword}{as}\ outfile:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ outfile.write(json\_object)}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ os.system(\textcolor{stringliteral}{"{}c++\ -\/std=c++17\ run.cc\ ../../../../src/machine\_learning/clustering/DBSCAN/dbscan.cc"{}})}
\DoxyCodeLine{\ \ \ \ os.system(\textcolor{stringliteral}{"{}./a.out"{}})}
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{\ \ \ \ input\_name\ =\ open(\textcolor{stringliteral}{"{}info.json"{}},\ \textcolor{stringliteral}{'r'})\ }
\DoxyCodeLine{\ \ \ \ file\ =\ json.load(input\_name)}
\DoxyCodeLine{\ \ \ \ centroids\ =\ file[\textcolor{stringliteral}{'centroids'}]}
\DoxyCodeLine{\ \ \ \ noise\ =\ file[\textcolor{stringliteral}{'noise'}]}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ COLORS\ =\ [\textcolor{stringliteral}{"{}red"{}},\ \textcolor{stringliteral}{"{}green"{}},\ \textcolor{stringliteral}{"{}orange"{}},\ \textcolor{stringliteral}{"{}blue"{}},\ \textcolor{stringliteral}{"{}black"{}},\ \textcolor{stringliteral}{"{}brown"{}},\ \textcolor{stringliteral}{"{}purple"{}}]}
\DoxyCodeLine{\ \ \ \ plt.figure()}
\DoxyCodeLine{\ \ \ \ x,\ y\ =\ [],\ []}
\DoxyCodeLine{\ \ \ \ x\_noise,\ y\_noise\ =\ [],\ []}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{for}\ ww\ \textcolor{keywordflow}{in}\ data:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ x.append(ww[0])}
\DoxyCodeLine{\ \ \ \ \ \ \ \ y.append(ww[1])}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{for}\ ww\ \textcolor{keywordflow}{in}\ noise:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ x\_noise.append(ww[0])}
\DoxyCodeLine{\ \ \ \ \ \ \ \ y\_noise.append(ww[1])}
\DoxyCodeLine{\ \ \ \ i\ =\ 0}
\DoxyCodeLine{\ \ \ \ x\_centroids,\ y\_centroids,\ colors\ =\ [],\ [],\ []}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{for}\ ww\ \textcolor{keywordflow}{in}\ centroids:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ x\_centroids.append(ww[0][0])}
\DoxyCodeLine{\ \ \ \ \ \ \ \ y\_centroids.append(ww[0][1])}
\DoxyCodeLine{\ \ \ \ \ \ \ \ colors.append(COLORS[ww[1]])}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ plt.scatter(x\_centroids,\ y\_centroids,\ color=colors)}
\DoxyCodeLine{\ \ \ \ plt.scatter(x\_noise,\ y\_noise,\ color=\textcolor{stringliteral}{"{}black"{}})}
\DoxyCodeLine{\ \ \ \ plt.show()}

\end{DoxyCode}
 